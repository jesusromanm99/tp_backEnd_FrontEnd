<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <title>Restaurapp</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Restaurapp</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ms-md-auto">
                <li class="nav-item">
                    <a target="_blank" rel="noopener" class="nav-link" href="https://github.com/jesusromanm99/tp_backEnd_FrontEnd"><i class="fa fa-github"></i> GitHub</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <h2 class="mt-5">Reserva de restaurantes</h2>
        <div id="app" class="row mt-4">
            <div class="col-12 alert alert-danger" v-if="mensaje_error!=null">{{mensaje_error}}</div>
            <div class="row">
                <div class="col-12 col-sm-6">
                    <label for="selectRestaurant">Selecciona el restaurante</label>
                    <select name="" id="selectRestaurant" v-model.number="restaurant_index" class="form-control">
                        <option v-for="restaurante in restaurantes" :value="restaurante.id" selected>{{restaurante.nombre}}</option>
                    </select>
                </div>
                <div class="col-12 col-sm-6">
                    <label for="datePicker">Ingrese la fecha</label>
                    <input type="date" required v-model="fecha" class="form-control" id="datePicker">
                </div>
            </div>
            <div class="row mt-0 mt-sm-3">
                <div class="col-12 col-sm-6">
                    <label for="horaInicio"> Selecciona hora inicio de la reserva</label>
                    <select name="" required id="horaInicio" v-model.number="hora_inicio"  class="form-control">
                        <option v-for="hora in rango_horas_inicio" selected>{{hora}}</option>
                    </select>
                </div>
                <div class="col-12 col-sm-6">
                    <label for="horaFin"> Selecciona hora fin de la reserva</label>
                    <select name="" required id="horaFin" v-model.number="hora_fin" class="form-control">
                        <option v-for="hora in rango_horas_inicio" selected>{{hora}}</option>
                    </select>
                </div>
            </div>
            <div class="row text-center mt-4">
                <div class="col-12">
                    <button @click="buscar_reservas" type="button" class="btn btn-primary">Buscar Reservas Disponibles</button>
                </div>
            </div>
            <div class="MesasDisponibles" v-if="mesasDispobibles.length">
                <table>
                    <tr>
                        <td>nombre</td>
                        <td> Planta</td>
                        <td>Capacidad</td>
                        <td>Seleccione la opcion</td>
                    </tr>
                    <tr v-for="mesa in mesasDispobibles">
                        <td>{{mesa.nombre}}</td>
                        <td> {{mesa.planta}}</td>
                        <td>{{mesa.capacidad}}</td>
                        <td> <input type="radio" id="uno" :value="mesa" v-model="mesaObject"> </td>
                    </tr>
                </table>
                <br><br>
                <div class="Buscar_cedula">
                    <label>Ingrese su numero cedula:</label>
                    <input type="number" v-model="cliente.cedula">
                    <button @click="buscar_cedula">Buscar Cedula</button>
                </div>
            </div>
            <div class="ingresarCliente" v-if="!findCedula">
                <h3>El Cliente con cedula {{cliente.cedula}}, aun no esta registrado, por favor ingrese sus datos</h3>
                <label>Ingrese el nombre</label> <input v-model="cliente.nombre" type="text"><br>
                <label>Ingrese el apellido</label> <input v-model="cliente.apellido" type="text"><br>
                <label> Cedula: </label> {{cliente.cedula}}<br>
                <button @click="confirmar_datos">Confirmar Datos</button>
            </div>
            <div class="detallesReserva" v-if="reservaLista">
                <table>
                    <tr>
                        <td> fecha</td>
                        <td>HoraInicioReserva</td>
                        <td>HoraFinReserva</td>   
                        <td>Nombre de la mesa</td>
                        <td>Capacidad de la mesa</td>
                        <td>Nombre Cliente</td>
                        <td>Apellido Cliente</td>
                        <td>CedulaCliente</td>
                    </tr>
                    <tr>
                        <td>{{reserva.fecha}}</td>
                        <td>{{reserva.hora_inicial}}:00</td>
                        <td>{{reserva.hora_final}}:00</td>
                        <td>{{mesaObject.nombre}}</td>
                        <td>{{reserva.cantidad_solicitada}}</td>
                        <td>{{cliente.nombre}}</td>
                        <td>{{cliente.apellido}}</td>
                        <td>{{cliente.cedula}}</td>
                    </tr>
                </table>
                <button @click="guardar_reserva">Guardar reserva</button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="../js/reserva.js"></script>
</body>

</html>